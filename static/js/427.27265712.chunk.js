"use strict";(self.webpackChunkmy_site=self.webpackChunkmy_site||[]).push([[427],{1427:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var n=t(5043),o=t(1591),i=t(3360),a=t(8067),r=t(4445),c=t(579);let l={inputString:"",outputText:"",decodingType:"base64",isProcessing:!1,hasError:!1,wabtModule:null};class d extends n.Component{constructor(e){super(e),this.state=void 0,this.state=l,this.onDecodingInputChange=this.onDecodingInputChange.bind(this),this.onEnterPress=this.onEnterPress.bind(this),this.onStartDecoding=this.onStartDecoding.bind(this),this.onErrorClose=this.onErrorClose.bind(this)}componentDidMount(){const{wabtModule:e}=this.state}componentWillUnmount(){l=this.state}onDecodingInputChange(e){this.setState({inputString:e.target.value.trim()})}onDecodingTypeChange(e){this.setState({decodingType:e})}onStartDecoding(){this.setState({isProcessing:!0});const{decodingType:e}=this.state;"base64"===e?this.decodeBase64():"ints-array"===e&&this.decodeIntsArray()}onEnterPress(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),this.onStartDecoding())}onErrorClose(){this.setState({hasError:!1})}decodeBase64(){const{inputString:e}=this.state;try{const s=r.toByteArray(e);this.decodeWasmBytes(s)}catch(s){console.error(s),this.setState({hasError:!0,isProcessing:!1})}}decodeIntsArray(){const{inputString:e}=this.state;try{const s=e.replace(/^\[/,"").replace(/\]$/,""),t=new Uint8Array(s.split(",").map((e=>parseInt(e,10))));this.decodeWasmBytes(t)}catch(s){console.error(s),this.setState({hasError:!0,isProcessing:!1})}}decodeWasmBytes(e){const{wabtModule:s}=this.state;try{if(s){const t=s.readWasm(e,{readDebugNames:!0,exceptions:!0,mutable_globals:!0,sat_float_to_int:!0,sign_extension:!0,simd:!0,threads:!0,multi_value:!0,tail_call:!0,bulk_memory:!0,reference_types:!0,annotations:!0,gc:!0});t.applyNames();const n=t.toText({foldExprs:!1,inlineExport:!1});this.setState({outputText:n,isProcessing:!1,hasError:!1})}else this.setState({hasError:!0,isProcessing:!1})}catch(t){console.error(t),this.setState({hasError:!0,isProcessing:!1})}}render(){const{inputString:e,decodingType:s,outputText:t,isProcessing:n,hasError:r}=this.state,l=""===t?(0,c.jsx)("span",{children:"WebAssembly text will be shown here"}):(0,c.jsx)(i.A,{language:"wasm",style:a.A,showLineNumbers:!0,customStyle:{fontSize:"12px"},children:t}),d=r?(0,c.jsxs)("div",{className:"notification is-danger",children:[(0,c.jsx)("button",{type:"button",className:"delete",onClick:this.onErrorClose}),"Sorry, it looks like that input couldn't be decoded. Try checking it to make sure it's correct. You can check the console for more info."]}):(0,c.jsx)("span",{});return(0,c.jsxs)("div",{children:[(0,c.jsx)(o.m,{children:(0,c.jsx)("title",{children:"Alan Romano | WebAssembly Decoder App"})}),(0,c.jsx)("h1",{className:"title",children:"WebAssembly Decoder"}),(0,c.jsx)("p",{children:"This tool can decode WebAssembly modules that have been encoded as base64 strings or plain number arrays in JavaScript."}),(0,c.jsx)("div",{className:"columns",children:(0,c.jsx)("div",{className:"column",children:(0,c.jsx)("div",{className:"buttons has-addons is-centered",children:[{value:"base64",label:"Base 64",colorClass:"is-dark"},{value:"ints-array",label:"Array of Integers",colorClass:"is-dark"}].map((e=>(0,c.jsx)("button",{type:"button",className:"button ".concat(e.colorClass," ").concat(s===e.value?"is-active":""),onClick:this.onDecodingTypeChange.bind(this,e.value),children:e.label},"".concat(e.value,"-decode-button"))))})})}),(0,c.jsx)("div",{className:"columns",children:(0,c.jsx)("div",{className:"column",children:(0,c.jsx)("textarea",{className:"textarea",value:e,placeholder:"Enter encoded WebAssembly module here",onChange:this.onDecodingInputChange,onKeyDown:this.onEnterPress})})}),(0,c.jsx)("div",{className:"columns",children:(0,c.jsxs)("div",{className:"column",children:[d,(0,c.jsx)("div",{className:"buttons has-addons is-centered",children:(0,c.jsx)("button",{type:"button",className:"button is-primary ".concat(n?"is-loading":""),disabled:""===e||""===s,onClick:this.onStartDecoding,children:"Start Decoding"})})]})}),(0,c.jsx)("div",{className:"columns",children:(0,c.jsx)("div",{className:"column",children:l})})]})}}}}]);
//# sourceMappingURL=427.27265712.chunk.js.map