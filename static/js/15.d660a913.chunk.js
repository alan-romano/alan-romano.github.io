(this["webpackJsonpmy-site"]=this["webpackJsonpmy-site"]||[]).push([[15],{386:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return v}));var n=s(27),a=s(28),o=s(31),i=s(30),r=s(29),c=s(0),l=s(26),d=s(389),u=s(387),h=s(82),b=s.n(h),m=s(101),j=s.n(m),p=s(1),y={inputString:"",outputText:"",decodingType:"base64",isProcessing:!1,hasError:!1,wabtModule:null},v=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state=void 0,a.state=y,a.onDecodingInputChange=a.onDecodingInputChange.bind(Object(o.a)(a)),a.onEnterPress=a.onEnterPress.bind(Object(o.a)(a)),a.onStartDecoding=a.onStartDecoding.bind(Object(o.a)(a)),a.onErrorClose=a.onErrorClose.bind(Object(o.a)(a)),a}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var e=this;null===this.state.wabtModule&&j()().then((function(t){e.setState({wabtModule:t})}))}},{key:"componentWillUnmount",value:function(){y=this.state}},{key:"onDecodingInputChange",value:function(e){this.setState({inputString:e.target.value.trim()})}},{key:"onDecodingTypeChange",value:function(e){this.setState({decodingType:e})}},{key:"onStartDecoding",value:function(){this.setState({isProcessing:!0});var e=this.state.decodingType;"base64"===e?this.decodeBase64():"ints-array"===e&&this.decodeIntsArray()}},{key:"onEnterPress",value:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),this.onStartDecoding())}},{key:"onErrorClose",value:function(){this.setState({hasError:!1})}},{key:"decodeBase64",value:function(){var e=this.state.inputString;try{var t=b.a.toByteArray(e);this.decodeWasmBytes(t)}catch(s){console.error(s),this.setState({hasError:!0,isProcessing:!1})}}},{key:"decodeIntsArray",value:function(){var e=this.state.inputString;try{var t=e.replace(/^\[/,"").replace(/\]$/,""),s=new Uint8Array(t.split(",").map((function(e){return parseInt(e,10)})));this.decodeWasmBytes(s)}catch(n){console.error(n),this.setState({hasError:!0,isProcessing:!1})}}},{key:"decodeWasmBytes",value:function(e){var t=this.state.wabtModule;try{if(t){var s=t.readWasm(e,{readDebugNames:!0,exceptions:!0,mutable_globals:!0,sat_float_to_int:!0,sign_extension:!0,simd:!0,threads:!0,multi_value:!0,tail_call:!0,bulk_memory:!0,reference_types:!0,annotations:!0,gc:!0});s.applyNames();var n=s.toText({foldExprs:!1,inlineExport:!1});this.setState({outputText:n,isProcessing:!1,hasError:!1})}else this.setState({hasError:!0,isProcessing:!1})}catch(a){console.error(a),this.setState({hasError:!0,isProcessing:!1})}}},{key:"render",value:function(){var e=this,t=this.state,s=t.inputString,n=t.decodingType,a=t.outputText,o=t.isProcessing,i=t.hasError,r=""===a?Object(p.jsx)("span",{children:"WebAssembly text will be shown here"}):Object(p.jsx)(d.a,{language:"wasm",style:u.a,showLineNumbers:!0,customStyle:{fontSize:"12px"},children:a}),c=i?Object(p.jsxs)("div",{className:"notification is-danger",children:[Object(p.jsx)("button",{type:"button",className:"delete",onClick:this.onErrorClose}),"Sorry, it looks like that input couldn't be decoded. Try checking it to make sure it's correct. You can check the console for more info."]}):Object(p.jsx)("span",{});return Object(p.jsxs)("div",{children:[Object(p.jsx)(l.a,{children:Object(p.jsx)("title",{children:"Alan Romano | WebAssembly Decoder App"})}),Object(p.jsx)("h1",{className:"title",children:"WebAssembly Decoder"}),Object(p.jsx)("p",{children:"This tool can decode WebAssembly modules that have been encoded as base64 strings or plain number arrays in JavaScript."}),Object(p.jsx)("div",{className:"columns",children:Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{className:"buttons has-addons is-centered",children:[{value:"base64",label:"Base 64",colorClass:"is-dark"},{value:"ints-array",label:"Array of Integers",colorClass:"is-dark"}].map((function(t){return Object(p.jsx)("button",{type:"button",className:"button ".concat(t.colorClass," ").concat(n===t.value?"is-active":""),onClick:e.onDecodingTypeChange.bind(e,t.value),children:t.label},"".concat(t.value,"-decode-button"))}))})})}),Object(p.jsx)("div",{className:"columns",children:Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("textarea",{className:"textarea",value:s,placeholder:"Enter encoded WebAssembly module here",onChange:this.onDecodingInputChange,onKeyDown:this.onEnterPress})})}),Object(p.jsx)("div",{className:"columns",children:Object(p.jsxs)("div",{className:"column",children:[c,Object(p.jsx)("div",{className:"buttons has-addons is-centered",children:Object(p.jsx)("button",{type:"button",className:"button is-primary ".concat(o?"is-loading":""),disabled:""===s||""===n,onClick:this.onStartDecoding,children:"Start Decoding"})})]})}),Object(p.jsx)("div",{className:"columns",children:Object(p.jsx)("div",{className:"column",children:r})})]})}}]),s}(c.Component)}}]);
//# sourceMappingURL=15.d660a913.chunk.js.map