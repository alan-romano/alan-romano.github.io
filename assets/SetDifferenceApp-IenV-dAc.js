import{r as l,j as e}from"./index-CERFvImh.js";import{H as h}from"./Helmet-BsDlJoiT.js";class u extends l.Component{constructor(t){super(t),this.onValueChange=t.onValueChange.bind(this,t.setIndex),this.onCommaSeparatorButtonChange=t.onSetSeparatorButtonChange.bind(this,t.setIndex,","),this.onDotSeparatorButtonChange=t.onSetSeparatorButtonChange.bind(this,t.setIndex,"."),this.onColumnSeparatorButtonChange=t.onSetSeparatorButtonChange.bind(this,t.setIndex,`
`),this.onRowSeparatorButtonChange=t.onSetSeparatorButtonChange.bind(this,t.setIndex,"	")}render(){const{setIndex:t,setSeparator:a,setValue:n}=this.props;return e.jsxs("div",{className:"column",children:[e.jsxs("h3",{className:"subtitle",style:{fontWeight:"bolder"},children:["Set ",t+1]}),e.jsx("div",{className:"columns",children:e.jsx("div",{className:"column",children:e.jsxs("div",{className:"buttons has-addons is-right",children:[e.jsx("button",{type:"button",className:`button is-dark ${a===","?"is-active":""}`,onClick:this.onCommaSeparatorButtonChange,children:","}),e.jsx("button",{type:"button",className:`button is-dark ${a==="."?"is-active":""}`,onClick:this.onDotSeparatorButtonChange,children:"."}),e.jsx("button",{type:"button",className:`button is-dark ${a===`
`?"is-active":""}`,onClick:this.onColumnSeparatorButtonChange,children:"Column"}),e.jsx("button",{type:"button",className:`button is-dark ${a==="	"?"is-active":""}`,onClick:this.onRowSeparatorButtonChange,children:"Row"})]})})}),e.jsx("textarea",{className:"textarea",value:n,onChange:this.onValueChange})]})}}let r={separatorChoices:[{label:",",value:","},{label:"Column",value:`
`},{label:"Row",value:"	"}],sets:[{value:"",separator:",",id:0},{value:"",separator:",",id:1}],calculatedOutput:""};class m extends l.Component{constructor(t){super(t),this.state=r,this.onSetSeparatorChange=this.onSetSeparatorChange.bind(this),this.onSetSeparatorButtonChange=this.onSetSeparatorButtonChange.bind(this),this.onSetValueChange=this.onSetValueChange.bind(this),this.calculateUnion=this.calculateUnion.bind(this),this.calculateDifference=this.calculateDifference.bind(this),this.swapSets=this.swapSets.bind(this)}componentWillUnmount(){r=this.state}onSetSeparatorChange(t,a){const{sets:n}=this.state,s=[...n];s[t].separator=a.target.value,this.setState({sets:s})}onSetSeparatorButtonChange(t,a){const{sets:n}=this.state,s=[...n];s[t].separator=a,this.setState({sets:s})}onSetValueChange(t,a){const{sets:n}=this.state,s=[...n];s[t].value=a.target.value,this.setState({sets:s})}calculateUnion(){const{sets:t}=this.state,a=t.map(o=>o.value.split(o.separator)).map(o=>new Set(o)),n=new Set;a.forEach(o=>{o.forEach(i=>{n.add(i)})});const s=Array.from(n).join(`
`);this.setState({calculatedOutput:s})}calculateDifference(){const{sets:t}=this.state,a=t.map(s=>s.value.split(s.separator).map(o=>o.trim())).map(s=>new Set(s)),n=a.shift();if(n){a.forEach(o=>{o.forEach(i=>{n.delete(i)})});const s=Array.from(n).join(`
`);this.setState({calculatedOutput:s})}}swapSets(){const{sets:t}=this.state;if(t.length===2){const a=[t[1],t[0]];this.setState({sets:a})}}render(){const{sets:t,calculatedOutput:a}=this.state;return e.jsxs("div",{style:{height:"90vh"},children:[e.jsx(h,{children:e.jsx("title",{children:"Alan Romano | Set Difference App"})}),e.jsx("h1",{className:"title",children:"Set Difference"}),e.jsx("br",{}),e.jsx("div",{className:"columns",children:t.map((n,s)=>e.jsx(u,{setIndex:s,setValue:n.value,setSeparator:n.separator,onSeparatorChange:this.onSetSeparatorChange,onValueChange:this.onSetValueChange,onSetSeparatorButtonChange:this.onSetSeparatorButtonChange},`set-comp-${n.id}`))}),e.jsx("div",{className:"columns",children:e.jsx("div",{className:"column",children:e.jsxs("div",{className:"buttons is-grouped is-centered",children:[e.jsx("button",{className:"button is-primary",type:"button",onClick:this.calculateDifference,children:"Difference"})," ",e.jsx("button",{type:"button",className:"button is-info",onClick:this.calculateUnion,children:"Union"})," ",t.length!==2?e.jsx("span",{}):e.jsx("button",{type:"button",className:"button is-danger",onClick:this.swapSets,children:"Swap"})]})})}),e.jsx("div",{className:"columns"}),e.jsx("div",{className:"column is-three-fifths is-offset-one-fifth",children:e.jsx("textarea",{className:"textarea",value:a,readOnly:!0})})]})}}export{m as default};
